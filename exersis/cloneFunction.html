<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>clone function</title>
	<script>
		var O = {
			a:'a1',
			// b:true,
			// c:['c1','c2',{c3a:'c3a', c3b:'c3b'}],
			d:{da:'da',dc:['dc1','dc2']}
		},
		OA;

		function clone (srcObj,cloneObj) {
			cloneObj = cloneObj || {};
			console.log(1);
			console.log(cloneObj);
			for(var n in srcObj){
				if(getConstructor(srcObj[n]) === "Object"){
					cloneObj[n] = clone(srcObj[n],cloneObj[n]);
					console.log(2);
					console.log(cloneObj[n])
				}else{
					cloneObj[n] = srcObj[n];
					console.log(3);
					console.log(cloneObj[n])
				}
			}
			console.log(4);
			console.log(cloneObj);
			return cloneObj;
		}
        OA = clone(O,OA);
        // OA.c[2].c3a = "changed by OA";
        OA.d.da = "changed by OA";
        O.d.dc[0] = "changed by O";
        console.log(O);
        console.log(OA);



	function getConstructor (obj) {
		return obj && obj.constructor && obj.constructor.toString().match(/function\s*([^(]*)/)[1];
	}

	</script>
</head>
<body>
	
</body>
</html>